---
title: SQL Server ビッグ データ クラスターの構成プロパティ
titleSuffix: SQL Server big data clusters
description: ビッグ データ クラスターの構成プロパティに関するリファレンス記事
author: MikeRayMSFT
ms.author: mikeray
ms.reviewer: rahul.ajmera
ms.date: 02/11/2021
ms.topic: reference
ms.prod: sql
ms.technology: big-data-cluster
ms.openlocfilehash: 735a0d666a678ddad60447b56674699eba3c5e4d
ms.sourcegitcommit: 7e5414d8005e7b07e537417582fb4132b5832ded
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/07/2021
ms.locfileid: "106556755"
---
# <a name="sql-server-big-data-clusters-configuration-properties"></a>SQL Server ビッグ データ クラスターの構成プロパティ

[!INCLUDE[SQL Server 2019](../includes/applies-to-version/sqlserver2019.md)]

ビッグ データ クラスターの構成設定は、`cluster`、`service`、`resource` のスコープで定義できます。 設定の階層も、この順序に従って、上位から下位に適用されます。 BDC コンポーネントでは、最下位のスコープで定義された設定の値が使用されます。 特定のスコープで設定が定義されていない場合は、上位の親スコープから値が継承されます。 さまざまなスコープで BDC の各コンポーネントに使用できる設定の一覧を以下に示します。 BDC の構成可能な設定は、azdata を使用して見ることもできます。

## <a name="bdc-cluster-scope-settings"></a>BDC のクラスター スコープの設定
次の設定は、クラスター スコープで構成できます。

| 設定名                                             | 説明                                                                                                                                                                                                                                                                                                             | Type   | 既定値          | デプロイ時のみ | 
| ------------------------------------------------ | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------ | ---------------------------- | --------- | 
| bdc.telemetry.customerFeedback                              | このクラスターが、製品の使用状況と診断データを Microsoft に送信するカスタマー エクスペリエンス向上プログラム (CEIP) に参加するかどうかを制御します。 | boolean | true                    |           | 
| bdc.resourcemanagement.enabled           | このクラスターがメモリおよび CPU の要求と制限を適用するかどうかを制御します。 *gateway、nmnode、sparkhead、spark、storage、および zookeeper ポッド内の spark 関連のコンテナーにのみ適用されます。*                                                                          | [bool]  | false |
| bdc.resourcemanagement.cpuCoefficient    | リソース管理が有効になっている場合、メモリまたは CPU の要求または制限が適用されているポッドの基本 CPU 要求の値をスケーリングする係数を制御します。 *gateway、nmnode、sparkhead、spark、storage、および zookeeper ポッド内の spark 関連のコンテナーにのみ適用されます。*        | float | 1.0 |
| bdc.resourcemanagement.memoryCoefficient | リソース管理が有効になっている場合、メモリまたは CPU の要求または制限が適用されているポッドの基本メモリ要求の値をスケーリングする係数を制御します。 *gateway、nmnode、sparkhead、spark、storage、および zookeeper ポッド内の spark 関連のコンテナーにのみ適用されます。*     | float | 1.0 |

## <a name="sql-service-scope-settings"></a>SQL のサービス スコープの設定
次の設定は、SQL サービス スコープで構成できます。

| 設定名                                             | 説明                                                                                                                                                                                                                                                                                                             | Type   | 既定値          | デプロイ時のみ | 
| ------------------------------------------------ | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------ | ---------------------------- | --------- | 
| mssql.language.lcid                              | SQL Server のロケールが、サポートされているいずれかの言語識別子 (LCID) に変更されます。                                                                                                                                                                                                                                              | INT    | 1033                         |           | 

## <a name="spark-service-scope-settings"></a>Spark のサービス スコープの設定
すべてのサポートされている設定とサポートされていない設定については、[Apache Spark および Apache Hadoop の構成に関する記事](reference-config-spark-hadoop.md)を参照してください。

## <a name="hdfs-service-scope-settings"></a>HDFS のサービス スコープの設定
すべてのサポートされている設定とサポートされていない設定については、[Apache Spark および Apache Hadoop の構成に関する記事](reference-config-spark-hadoop.md)を参照してください。

## <a name="gateway-service-scope-settings"></a>ゲートウェイのサービス スコープの設定
構成可能なゲートウェイのサービス スコープの設定はありません。 ゲートウェイのリソース スコープで設定を構成します。

## <a name="app-service-scope-settings"></a>アプリのサービス スコープの設定
使用できるものはありません

## <a name="master-pool-resource-scope-settings"></a>マスター プールのリソース スコープの設定
| 設定名                                             | 説明                                                                                                                                                                                                                                                                                                             | Type   | 既定値          | デプロイ時のみ | 
| ------------------------------------------------ | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------ | ---------------------------- | --------- | 
| mssql.licensing.pid                              | SQL Server のエディション。                                                                                                                                                                                                                                                                                                     | string | 開発者                    |           | 
| mssql.sqlagent.enabled                           | SQL Server エージェントを有効にします。                                                                                                                                                                                                                                                                                               | [bool]   | false                        |           | 
| mssql.collation                                  | SQL Server の照合順序を、サポートされているいずれかの照合順序に変更します。                                                                                                                                                                                                                                                    | string | SQL_Latin1_General_CP1_CI_AS | true      | 
| hadr.enabled                                     | SQL Server マスター プールの可用性グループを有効にするためのブール値。                                                                                                                                                                                                                                                    | [bool]   | false                        | true      | 
| hadr.leaseDurationInSeconds                      | HA エージェントのリース有効期限のタイムアウト。                                                                                                                                                                                                                                                                                  | INT    | 30                           |           | 
| hadr.externalLeasePollingEnabled                 | 外部リース ポーリング API を有効にするためのブール値。                                                                                                                                                                                                                                                                        | bool   | true                         | true      | 
| mssql.telemetry.userRequestedLocalAuditDirectory | SQL Server のローカル監査を有効にし、'ローカル監査' ログが作成されるディレクトリを設定できるようになります。 ディレクトリは '/var/opt/mssql/audit' の下になければなりません。                                                                                                                                                            | string |                              |           |
| mssql.network.tlscert                            | SQL Server が TLS に使用する証明書ファイルへの絶対パス。 自己署名証明書を使用するには、このパスを変更する前に、ファイルをコンテナーに配置する必要があります。 [その方法については、SQL Server ビッグ データ クラスターのノートブックを参照してください](https://github.com/microsoft/tigertoolbox/blob/master/Big-Data-Clusters/CU9/public/content/cert-management/cer100-create-root-ca-install-certs.ipynb)。                                                                                                                                                                                                                                                   | string | /var/run/secrets/certificates/sql/sql-certificate.pem                                                                                                                                                                   |           |
| mssql.network.tlskey                             | SQL Server が TLS に使用する秘密キー ファイルへの絶対パス。 自己署名証明書を使用するには、このパスを変更する前に、ファイルをコンテナーに配置する必要があります。 [その方法については、SQL Server ビッグ データ クラスターのノートブックを参照してください](https://github.com/microsoft/tigertoolbox/blob/master/Big-Data-Clusters/CU9/public/content/cert-management/cer100-create-root-ca-install-certs.ipynb)。                                                                                                                                                                                                                                                       | string | /var/run/secrets/certificates/sql/sql-privatekey.pem                                                                                                                                                                    |           |
| mssql.network.forceencryption                    | 1 の場合、SQL Server はすべての接続を強制的に暗号化します。 既定では、このオプションは 0 になっています。                                                                                                                                                                                                                                                                                                                    | INT    | 0                                                                                                                                                                                                                       |           |
| mssql.network.tlsprotocols                       | SQL Server によって許可される TLS プロトコルのコンマ区切りのリスト。 SQL Server は、許可されている最も強いプロトコルのネゴシエートを常に試行します。 クライアントが許可されているプロトコルをサポートしていない場合、SQL Server は接続試行を拒否します。 互換性のために、サポートされているすべてのプロトコルが既定で許可されています (1.2、1.1、1.0)。 クライアントが TLS 1.2 をサポートしている場合、Microsoft では TLS 1.2 のみを許可することをお勧めします。 | string | 1.2                                                                                                                                                                                                                     |           |
| mssql.network.tlsciphers                         | SQL Server が TLS に対して許可する暗号を指定します。 この文字列は、OpenSSL の暗号リスト形式に従った形式にする必要があります。 一般に、このオプションを変更する必要はありません。                                                                                                                                                                                                                              | string | ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES128-SHA256:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES128-SHA256:ECDHE-RSA-AES256-SHA384 |           |

## <a name="storage-pool-resource-scope-settings"></a>記憶域プールのリソース スコープの設定
記憶域プールは、SQL、Spark、HDFS の各コンポーネントで構成されています。

### <a name="available-sql-configurations"></a>使用可能な SQL の構成
| 設定名                                             | 説明                                                                                                                                                                                                                                                                                                             | Type   | 既定値          | デプロイ時のみ | 
| ------------------------------------------------ | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------ | ---------------------------- | --------- | 
| mssql.degreeOfParallelism                        | 並列処理の次数に基づいて、SQL インスタンスごとに 1 つのステートメントを実行するために使用されるプロセッサの数が設定されます。                                                                                                                                                                                                        | INT    | 0                            |           | 
| mssql.maxServerMemory                            | SQL Server のインスタンスで使用される SQL Server プロセス用の最大メモリ量 (MB)。                                                                                                                                                                                                                 | INT    | 2147483647                   |           | 
| mssql.minServerMemory                            | SQL Server のインスタンスで使用される SQL Server プロセス用の最小メモリ量 (MB)。                                                                                                                                                                                                                 | INT    | 0                            |           | 
| mssql.processAffinityCpuRange                    | 指定された範囲内の個々の CPU に SQL Server のワーカー スレッドを配分します。 指定された範囲外の CPU にはスレッドの割り当ては行われません。 AUTO が既定値であり、どのスレッドにも CPU が割り当てられておらず、CPU 間を自由に移動できることを指定します。 例: "1, 3-5, 6" は、スレッドを CPU 1、3、4、5、および 6 に割り当てます。                                                                                           | string | AUTO                                                                                                                                                                                                                    |           | 
| mssql.storagePoolCacheSize                       | 記憶域プール内の各 SQL インスタンスのキャッシュのサイズ (MB)。                                                                                                                                                                                                                                             | INT    | 8                            |           | 
| mssql.storagePoolMaxCacheSize                    | 記憶域プール内の各 SQL インスタンスのキャッシュの最大サイズ (MB)。                                                                                                                                                                                                                                     | INT    | 16384                        |           | 
| mssql.storagePoolCacheAutogrowth                 | 記憶域プール キャッシュの自動拡張係数 (MB)。                                                                                                                                                                                                                                                                  | INT    | 256                          |           | 
| mssql.tempdb.autogrowthPerDataFile               | 各 TempDB データ ファイルの自動拡張 (MB)。                                                                                                                                                                                                                                                                          | INT    | 64                           |           | 
| mssql.tempdb.autogrowthPerLogFile                | 各 TempDB ログ ファイルの自動拡張 (MB)。                                                                                                                                                                                                                                                                           | INT    | 64                           |           | 
| mssql.tempdb.dataFileSize                        | 各 TempDB データ ファイルのファイル サイズ (MB)。                                                                                                                                                                                                                                                                           | INT    | 8                            |           | 
| mssql.tempdb.dataFileMaxSize                     | 各 TempDB データ ファイルの最大ファイル サイズ (MB)。                                                                                                                                                                                                                                                                   | INT    | 16777215                     |           | 
| mssql.tempdb.logFileSize                         | 各 TempDB ログ ファイルのファイル サイズ (MB)。                                                                                                                                                                                                                                                                            | INT    | 8                            |           | 
| mssql.tempdb.logFileMaxSize                      | 各 TempDB ログ ファイルの最大ファイル サイズ (MB)。                                                                                                                                                                                                                                                                    | INT    | 2097151                      |           | 
| mssql.tempdb.numberOfDataFiles                   | TempDB のデータ ファイルの数。                                                                                                                                                                                                                                                                                        | INT    | 8                            |           | 
| mssql.traceflags                                 | SQL Server サービスを起動するためのトレースフラグを有効または無効にします。 適用するトレースフラグのスペース区切りリストを指定してください。                                                                                                                                                                                        | string | 3614                         |           | 


### <a name="available-apache-spark-and-hadoop-configurations"></a>使用可能な Apache Spark と Hadoop の構成
すべてのサポートされている設定とサポートされていない設定については、[Apache Spark および Apache Hadoop の構成に関する記事](reference-config-spark-hadoop.md)を参照してください。

## <a name="data-pool-resource-scope-settings"></a>データ プールのリソース スコープの設定
| 設定名                                             | 説明                                                                                                                                                                                                                                                                                                             | Type   | 既定値          | デプロイ時のみ | 
| ------------------------------------------------ | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------ | ---------------------------- | --------- | 
| mssql.degreeOfParallelism                        | 並列処理の次数に基づいて、SQL インスタンスごとに 1 つのステートメントを実行するために使用されるプロセッサの数が設定されます。                                                                                                                                                                                                        | INT    | 0                            |           | 
| mssql.maxServerMemory                            | SQL Server のインスタンスで使用される SQL Server プロセス用の最大メモリ量 (MB)。                                                                                                                                                                                                                 | INT    | 2147483647                   |           | 
| mssql.minServerMemory                            | SQL Server のインスタンスで使用される SQL Server プロセス用の最小メモリ量 (MB)。                                                                                                                                                                                                                 | INT    | 0                            |           | 
| mssql.processAffinityCpuRange                    | 指定された範囲内の個々の CPU に SQL Server のワーカー スレッドを配分します。 指定された範囲外の CPU にはスレッドの割り当ては行われません。 AUTO が既定値であり、どのスレッドにも CPU が割り当てられておらず、CPU 間を自由に移動できることを指定します。 例: "1, 3-5, 6" は、スレッドを CPU 1、3、4、5、および 6 に割り当てます。                                                                                           | string | AUTO                                                                                                                                                                                                                    |           |
| mssql.tempdb.autogrowthPerDataFile               | 各 TempDB データ ファイルの自動拡張 (MB)。                                                                                                                                                                                                                                                                          | INT    | 64                           |           | 
| mssql.tempdb.autogrowthPerLogFile                | 各 TempDB ログ ファイルの自動拡張 (MB)。                                                                                                                                                                                                                                                                           | INT    | 64                           |           | 
| mssql.tempdb.dataFileSize                        | 各 TempDB データ ファイルのファイル サイズ (MB)。                                                                                                                                                                                                                                                                           | INT    | 8                            |           | 
| mssql.tempdb.dataFileMaxSize                     | 各 TempDB データ ファイルの最大ファイル サイズ (MB)。                                                                                                                                                                                                                                                                   | INT    | 16777215                     |           | 
| mssql.tempdb.logFileSize                         | 各 TempDB ログ ファイルのファイル サイズ (MB)。                                                                                                                                                                                                                                                                            | INT    | 8                            |           | 
| mssql.tempdb.logFileMaxSize                      | 各 TempDB ログ ファイルの最大ファイル サイズ (MB)。                                                                                                                                                                                                                                                                    | INT    | 2097151                      |           | 
| mssql.tempdb.numberOfDataFiles                   | TempDB のデータ ファイルの数。                                                                                                                                                                                                                                                                                        | INT    | 8                            |           | 
| mssql.traceflags                                 | SQL Server サービスを起動するためのトレースフラグを有効または無効にします。 適用するトレースフラグのスペース区切りリストを指定してください。                                                                                                                                                                                        | string | 3614                         |           | 

## <a name="compute-pool-resource-scope-settings"></a>コンピューティング プールのリソース スコープの設定
| 設定名                                             | 説明                                                                                                                                                                                                                                                                                                             | Type   | 既定値          | デプロイ時のみ | 
| ------------------------------------------------ | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------ | ---------------------------- | --------- | 
| mssql.degreeOfParallelism                        | 並列処理の次数に基づいて、SQL インスタンスごとに 1 つのステートメントを実行するために使用されるプロセッサの数が設定されます。                                                                                                                                                                                                        | INT    | 0                            |           | 
| mssql.maxServerMemory                            | SQL Server のインスタンスで使用される SQL Server プロセス用の最大メモリ量 (MB)。                                                                                                                                                                                                                 | INT    | 2147483647                   |           | 
| mssql.minServerMemory                            | SQL Server のインスタンスで使用される SQL Server プロセス用の最小メモリ量 (MB)。                                                                                                                                                                                                                 | INT    | 0                            |           | 
| mssql.processAffinityCpuRange                    | 指定された範囲内の個々の CPU に SQL Server のワーカー スレッドを配分します。 指定された範囲外の CPU にはスレッドの割り当ては行われません。 AUTO が既定値であり、どのスレッドにも CPU が割り当てられておらず、CPU 間を自由に移動できることを指定します。 例: "1, 3-5, 6" は、スレッドを CPU 1、3、4、5、および 6 に割り当てます。                                                                                           | string | AUTO                                                                                                                                                                                                                    |           |
| mssql.tempdb.autogrowthPerDataFile               | 各 TempDB データ ファイルの自動拡張 (MB)。                                                                                                                                                                                                                                                                          | INT    | 64                           |           | 
| mssql.tempdb.autogrowthPerLogFile                | 各 TempDB ログ ファイルの自動拡張 (MB)。                                                                                                                                                                                                                                                                           | INT    | 64                           |           | 
| mssql.tempdb.dataFileSize                        | 各 TempDB データ ファイルのファイル サイズ (MB)。                                                                                                                                                                                                                                                                           | INT    | 8                            |           | 
| mssql.tempdb.dataFileMaxSize                     | 各 TempDB データ ファイルの最大ファイル サイズ (MB)。                                                                                                                                                                                                                                                                   | INT    | 16777215                     |           | 
| mssql.tempdb.logFileSize                         | 各 TempDB ログ ファイルのファイル サイズ (MB)。                                                                                                                                                                                                                                                                            | INT    | 8                            |           | 
| mssql.tempdb.logFileMaxSize                      | 各 TempDB ログ ファイルの最大ファイル サイズ (MB)。                                                                                                                                                                                                                                                                    | INT    | 2097151                      |           | 
| mssql.tempdb.numberOfDataFiles                   | TempDB のデータ ファイルの数。                                                                                                                                                                                                                                                                                        | INT    | 8                            |           | 
| mssql.traceflags                                 | SQL Server サービスを起動するためのトレースフラグを有効または無効にします。 適用するトレースフラグのスペース区切りリストを指定してください。                                                                                                                                                                                        | string | 3614                         |           | 

## <a name="spark-pool-resource-scope-settings"></a>Spark プールのリソース スコープの設定
すべてのサポートされている設定とサポートされていない設定については、[Apache Spark および Apache Hadoop の構成に関する記事](reference-config-spark-hadoop.md)を参照してください。

## <a name="gateway-resource-scope-settings"></a>ゲートウェイのリソース スコープの設定
すべてのサポートされている設定とサポートされていない設定については、[Apache Spark および Apache Hadoop の構成に関する記事](reference-config-spark-hadoop.md)を参照してください。

## <a name="sparkhead-resource-scope-settings"></a>`Sparkhead` のリソース スコープの設定
すべてのサポートされている設定とサポートされていない設定については、[Apache Spark および Apache Hadoop の構成に関する記事](reference-config-spark-hadoop.md)を参照してください。

## <a name="zookeeper-resource-scope-settings"></a>Zookeeper のリソース スコープの設定
すべてのサポートされている設定とサポートされていない設定については、[Apache Spark および Apache Hadoop の構成に関する記事](reference-config-spark-hadoop.md)を参照してください。

## <a name="namenode-resource-scope-settings"></a>Namenode のリソース スコープの設定
すべてのサポートされている設定とサポートされていない設定については、[Apache Spark および Apache Hadoop の構成に関する記事](reference-config-spark-hadoop.md)を参照してください。

## <a name="app-proxy-resource-scope-settings"></a>アプリ プロキシのリソース スコープの設定
使用できるものはありません

## <a name="next-steps"></a>次の手順

[SQL Server ビッグ データ クラスターを構成する](configure-bdc-overview.md)
